<div id="dialog" modal="mailDialogOpen" close="closeArchiveDialog()" options="dialogOpts" role="alertdialog">
  <div class="modal-header">
    <button class="close" ng-click="closeDialog()">×</button>
    <h3 tabindex="-1"><span message key="qa.modal.header"></span></h3>
  </div>
  <div class="modal-body">
    Det verkar som att du har informerat den som ska ta hand om frågan. Vill du markera frågan som vidarebefordrad?
  </div>
  <div class="modal-footer">
    <button id="buttonYes" class="btn btn-success" ng-click="closeDialog()" ng-disabled="!doneArchiving"><img ng-hide="doneArchiving" ng-src="/img/ajax-loader-small-green.gif" /> <span message key="common.yes"></span></button>
    <button id="buttonNo" class="btn btn-info" ng-click="closeDialog()"><span message key="common.no"></span></button>
    <button id="buttonNoDontAsk" class="btn btn-info" ng-click="closeDialog()"><span message key="common.nodontask"></span></button>
  </div>
</div>

<div class="row-fluid" id="unhandled-qa">
  <div class="span12 webcert-col webcert-col-primary">
    <h1>
      <span message key="dashboard.unanswered.title"></span>
    </h1>
    <h2>
      Välj enhet <span style="font-size: 12px; color: #999">endast dina medarbetaruppdrag för {{MODULE_CONFIG.USERCONTEXT.vardgivare.namn}} visas</span>
    </h2>

    <div class="row-fluid">
      <div wc-care-unit-clinic-selector></div>
    </div>


    <h2 class="col-head">{{selectedUnit.namn}}</h2>
    <p>
      Visar alla ohanterade frågor för {{selectedUnit.namn}}<br>
      <a href="#">Visa avancerat sökfilter</a> 
    </p>
    <div wc-spinner label="info.loadingdata" show-spinner="!widgetState.doneLoading" show-content="widgetState.doneLoading">

      <!-- No results message -->
      <div id="unsigned-cert-list-noResults" ng-show="widgetState.doneLoading && !widgetState.hasError && (qaList | QAEnhetsIdFilter:activeUnit.id).length<1" class="alert alert-info">
        <span message key="info.nounanswered.qa.for.unit"></span>
      </div>
      
      <div class="row-fluid" ng-show="(qaList | QAEnhetsIdFilter:activeUnit.id).length>0" id="qaTable">
        <table class="span12 table table-striped table-qa">
          <tr>
            <th></th>
            <th></th>
            <th class="center">Vidarebefordrad</th>
            <th>Väntar på...</th>
            <th>Läkare</th>
            <th>Patient</th>
            <th>Ändringsdatum</th>
            <th>Svar senast</th>
          </tr>
          <tr ng-repeat="qa in qaList | QAEnhetsIdFilter:activeUnit.id">
            <td>
              <button class="btn btn-info" ng-click="openIntyg(qa.intygsReferens)" id="showqaBtn-{{qa.internReferens}}">Visa</button>
            </td>
            <td>
              <button class="btn btn-success" ng-click="openDialog(qa.internReferens)">E-post</button>
            </td>
            <td><input id="selected" type="checkbox" ng-checked="qa.vidarebefordrad" /></td>
            <td><span message key="qa.waiting.{{qa.vantarpa}}"></span></td>
<!--             
            <td><span message key="qa.status.{{qa.status}}"></span></td>
            <td><span message key="qa.frageStallare.{{qa.frageStallare}}"></span></td>
            <td><span message key="qa.amne.{{qa.amne}}"></span></td> -->
            <td>{{qa.vardperson.namn}}</td>
            <td class="unbreakable">{{qa.intygsReferens.patientId.patientIdExtension}}</td>
            <td class="unbreakable">{{qa.senasteHandelseDatum | date:'shortDate'}}</td>
            <td class="unbreakable table-qa-last">{{qa.sistaDatumForSvar}}</td>
        </table>
      </div>
      
    </div>
  </div>
</div>

