description = 'Webcert (Persistence)'

// JPA expects classes and configuration files to be in the same directory.
sourceSets.main.output.resourcesDir = sourceSets.main.output.classesDir
// B/c of the above, we create duplicates within the JAR. This configuration excludes the duplicates.
jar.duplicatesStrategy = DuplicatesStrategy.EXCLUDE

dependencies {
  compile project(':webcert-common')

  compile 'se.inera.intyg.intygstyper:luse:0-SNAPSHOT'
  compile 'se.inera.intyg.intygstyper:lisu:0-SNAPSHOT'
  compile 'ch.qos.logback:logback-classic:1.0.11'
  compile 'org.slf4j:jcl-over-slf4j:1.7.5'
  compile 'org.slf4j:log4j-over-slf4j:1.7.5'
  compile 'org.hibernate:hibernate-entitymanager:4.2.0.Final'
  compile 'org.hibernate.javax.persistence:hibernate-jpa-2.0-api:1.0.1.Final'
  compile 'org.springframework:spring-tx:4.2.2.RELEASE'
  compile 'org.springframework:spring-orm:4.2.2.RELEASE'
  compile 'org.liquibase:liquibase-core:3.3.1'
  compile 'org.springframework:spring-aop:4.2.2.RELEASE'
  compile 'org.springframework:spring-context:4.2.2.RELEASE'
  compile 'joda-time:joda-time:2.2'
  compile 'org.jadira.usertype:usertype.core:3.1.0.CR2'
  compile 'commons-lang:commons-lang:2.6'
  compile 'commons-io:commons-io:2.4'
  compile(group: 'org.springframework.data', name: 'spring-data-jpa', version:'1.9.0.RELEASE') {
    exclude(module: 'spring-core')
    exclude(module: 'spring-aop')
    exclude(module: 'spring-beans')
    exclude(module: 'spring-expression')
    exclude(module: 'spring-jdbc')
    exclude(module: 'spring-tx')
    exclude(module: 'spring-orm')
  }

  testCompile 'com.h2database:h2:1.3.174'
  testCompile 'org.springframework:spring-test:4.2.2.RELEASE'
  testCompile 'org.hamcrest:hamcrest-all:1.3'
  testCompile(group: 'junit', name: 'junit', version:'4.12') {
    exclude(module: 'hamcrest-core')
  }
  testCompile(group: 'org.mockito', name: 'mockito-core', version:'1.9.0') {
    exclude(module: 'hamcrest-core')
  }
}
