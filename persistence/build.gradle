// JPA expects classes and configuration files to be in the same directory.
sourceSets.main.output.resourcesDir = sourceSets.main.output.getClassesDirs().getSingleFile()
// B/c of the above, we create duplicates within the JAR. This configuration excludes the duplicates.
jar.duplicatesStrategy = DuplicatesStrategy.EXCLUDE

dependencies {
  compile project(':webcert-common')

  compile "org.springframework:spring-orm"

  // Exclude and import of non-BOM version of Hibernate due to
  // bug in BOM-version 5.4.12
  compile ("org.springframework.data:spring-data-jpa") {
    exclude group: "org.hibernate", module: "hibernate-core"
  }
  compile "org.hibernate:hibernate-core:${hibernateVersion}"
  compile "org.hibernate:hibernate-hikaricp:${hibernateVersion}"
  compile "org.liquibase:liquibase-core"
  compile "org.jadira.usertype:usertype.core:${jadiraUserTypeVersion}"

  compile "com.h2database:h2"
  compile "mysql:mysql-connector-java"

  testCompile "org.springframework:spring-test"
  testCompile "org.hamcrest:hamcrest"
  testCompile "org.hamcrest:hamcrest-library"
}
