<wc-patient-header></wc-patient-header>
<div class="webcert-workarea-page container-fluid" wc-authority feature="HANTERA_INTYGSUTKAST">

  <wc-spinner label="info.loadingdata" show-spinner="viewState.patientLoading">

    <form name="certForm" ng-submit="createDraft()" novalidate autocomplete="off">
      <wc-alert-message id="load-error" ng-show="viewState.loadErrorMessageKey != null"
                        alert-severity="danger"
                        alert-message-id="{{viewState.loadErrorMessageKey}}">
      </wc-alert-message>

      <div ng-if="!viewState.loadErrorMessageKey">
        <wc-valj-utkast-typ view-state="viewState"></wc-valj-utkast-typ>
      </div>

    </form>

    <div ng-if="viewState && !viewState.loadErrorMessageKey">
      <wc-tidigare-intyg view-state="viewState"></wc-tidigare-intyg>
    </div>
  </wc-spinner>
  <!-- load spinner end -->

</div>
