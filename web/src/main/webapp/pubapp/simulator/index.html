<!DOCTYPE html>
<html lang="sv" id="ng-app" ng-app="rhsIndexApp">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width">

<base href="/">
<title>Ärendesimulatorn</title>

<link rel="stylesheet" href="/web/webjars/bootstrap/3.1.1/css/bootstrap.min.css" />
<link rel="stylesheet" href="/web/webjars/bootstrap/3.1.1/css/bootstrap-theme.min.css" />
<link rel="stylesheet" href="/web/webjars/common/webcert/css/inera-webcert.css">
<link rel="stylesheet" href="/web/webjars/common/css/inera-certificate.css">

</head>
<style>
  html, body {
    height: 100%;
    margin: 4px;
    padding: 0px;
  }

</style>

<body class="index-page" ng-controller="IndexController">

  <div class="index-content-container">

    <!-- header part -->
    <div class="index-header-section">

        <div class="row">
          <div class="col-sm-4">
            <h1>Välkommen till Frågesimulatorn</h1>

            <label for="pnr">Personnummer</label>
            <input type="text" id="pnr" ng-model="pnr">
            <input type="button" class="btn btn-info" id="pnr-btn" value="Hämta intyg" ng-click="loadIntyg()">
            <table class="col-md-12 table table-striped table-qa" ng-if="data.length > 0">
              <tr>
                <th>IntygsId</th>
                <th>Typ</th>
                <td></td>
              </tr>
              <tr ng-repeat="d in data" n->
                <td>{{ d.intygId }}</td>
                <td>{{ d.intygType }}</td>
                <td><button type="button" class="btn btn-success" ng-click="openForm(d)">Välj</button></td>
              </tr>
            </table>
        </div>
        <div class="col-sm-8">
          <div id="advanced-filter-form"
               class="qa-filter-panel form-horizontal" ng-if="q.intygsId != ''">

            <!-- metadata -->
            <div class="form-group">
              <label class="col-sm-2 control-label">IntygsId</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" ng-model="q.intygsId">
              </div>
              <label class="col-sm-2 control-label">Tidpunkt</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" ng-model="q.skickatTidpunkt">
              </div>
            </div>

            <!-- Frågetyp -->
            <div class="form-group" id="filterFormVidarebefordrad">
              <label class="col-sm-2 control-label">Typ av fråga</label>
              <div class="col-sm-10">
                <label class="radio-inline">
                  <input id="vidarebefordradJa" name="vidarebefordrad" type="radio" value="KOMPLT"
                         ng-model="q.amne"> Komplettering
                </label>
                <label class="radio-inline">
                  <input id="vidarebefordradAlla" name="vidarebefordrad" type="radio" value="OVRIGT"
                         ng-model="q.amne" checked="checked"> Vanlig fråga
                </label>
              </div>
            </div>

            <!-- Texter -->
            <div class="form-group" ng-if="q.amne == 'OVRIGT'">
              <label class="col-sm-2 control-label">Frågetext</label>
              <div class="col-sm-10">
                <textarea ng-model="q.meddelande"></textarea>
              </div>
            </div>

            <div class="form-group" ng-if="q.amne == 'KOMPLT'">
              <label class="col-sm-2 control-label">Kompletteringstext</label>
              <div class="col-sm-10">
                <textarea ng-model="q.komplettering.text"></textarea>
              </div>
              <label class="col-sm-2 control-label">FrågeID för kompl.</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" ng-model="q.komplettering.frageId">
              </div>
            </div>

            <!-- Avsändare -->
            <div class="form-group">
              <label class="col-sm-2 control-label">Avsändare</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" ng-model="q.skickatAv">
              </div>
              <label class="col-sm-2 control-label">Meddelande nr</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" ng-model="q.meddelandeNr">
              </div>
          </div>

            <button type="button" class="btn btn-success" ng-click="sendQuestion(q)">Skapa fråga</button>
      </div>
    </div>
  </div>
      </div>
    </div>

  <script type="text/javascript" src="/web/webjars/angularjs/1.4.10/angular.min.js"></script>
  <script type="text/javascript" src="/web/webjars/angularjs/1.4.10/i18n/angular-locale_sv-se.js"></script>
  <script type="text/javascript" src="/web/webjars/angular-ui-bootstrap/1.3.2/ui-bootstrap-tpls.min.js"></script>
  <script type="text/javascript" src="/web/webjars/angular-ui-router/0.2.15/angular-ui-router.min.js"></script>


  <script type="text/javascript" src="/pubapp/simulator/index-app.main.js"></script>
</body>
</html>
