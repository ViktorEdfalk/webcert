description = 'Webcert (FitNesse)'

apply plugin: 'groovy'
apply plugin: 'inera-fitnesse'

fitnesse {
  port = 9126
  root = "FitNesseRoot"
  workingDir = "src/test/fitnesse"
  wikiStartPage = "WebCert.AutomatiseradeTester"

  if (project.hasProperty('fileOutput')) {
    outputFormat = "xml&includehtml"
  }

  extraProperties = [
    'geb.env': "chrome",
                     'webcert.web.baseUrl' : "http://localhost:9088/",
                     'webcert.baseUrl' : "http://localhost:9088/",
                     'logsender.baseUrl' : "http://localhost:9097/log-sender/",
                     'certificate.baseUrl' : "http://localhost:8080/inera-certificate/",
                     'fitnesse.working' : "src/test/fitnesse"
  ]

}

dependencies {
  compile project(':mail-stub')
  compile project(":webcert-web")

  compile "se.riv.clinicalprocess.healthcond.certificate:clinicalprocess-healthcond-certificate-schemas:${healthcondSchemasVersion}"
  compile "se.riv.insuranceprocess.healthreporting:insuranceprocess-healthreporting-schemas:${healthreportingSchemasVersion}"
  compile 'se.riv.itintegration.monitoring:itintegration-monitoring-schemas:1.0.0.3'
  compile "se.inera.intyg.infrastructure.directory.privatepractitioner.terms:intyg-infrastructure-directory-privatepractitioner-terms-schemas:${ppTermsSchemasVersion}"

  compile "se.inera.intyg.common:log-messages:${commonVersion}"
  compile "se.inera.intyg.common:hsa-integration:${commonVersion}"
  compile "se.inera.intyg.common:common-specifications:${commonVersion}"

  compile 'javax.jms:jms-api:1.1-rev-1'
  compile 'org.apache.activemq:activemq-client:5.13.0'
  compile 'org.codehaus.groovy:groovy-all:2.4.3'
  compile 'org.fitnesse:fitnesse:20150814'
  compile 'org.gebish:geb-core:0.10.0'
  compile 'org.seleniumhq.selenium:selenium-server:2.48.2'
  compile 'org.seleniumhq.selenium:selenium-firefox-driver:2.47.1'
  compile 'org.seleniumhq.selenium:selenium-support:2.48.2'
  compile 'org.seleniumhq.selenium:selenium-chrome-driver:2.48.2'
  compile 'org.seleniumhq.selenium:selenium-safari-driver:2.48.2'
  compile 'org.seleniumhq.selenium:selenium-remote-driver:2.48.2'
  compile 'org.seleniumhq.selenium:selenium-htmlunit-driver:2.48.2'
  compile 'com.h2database:h2:1.3.174'
  compile 'com.jayway.awaitility:awaitility:1.4.0'

  fitnesse "org.fitnesse:fitnesse:20150814"
  fitnesse "se.inera.intyg.common:common-specifications:${commonVersion}"
}
