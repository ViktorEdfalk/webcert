description = "Webcert (FitNesse)"

apply plugin: "groovy"
apply plugin: "inera-fitnesse"

fitnesse {
    port = 9126
    root = "FitNesseRoot"
    workingDir = "src/test/fitnesse"
    wikiStartPage = "WebCert.AutomatiseradeTester"

    if (project.hasProperty('fileOutput')) {
        outputFormat = project.findProperty('outputFormat') ?: "xml&includehtml"
    }

    extraProperties = [
        "fitnesse.working"   : "src/test/fitnesse",
        "geb.env"            : System.properties['geb.env'] ?: "chrome",
        "webcert.web.baseUrl": System.properties['web.baseUrl'] ?: "http://localhost:9088/",
        "webcert.baseUrl"    : System.properties['baseUrl'] ?: "http://localhost:9088/",
        "logsender.baseUrl"  : System.properties['logsender.baseUrl'] ?: "http://localhost:9097/log-sender/",
        "certificate.baseUrl": System.properties['certificate.baseUrl'] ?: "http://localhost:8080/inera-certificate/"
        ]
}

sonarqube {
    skipProject = true
}

dependencies {
    def seleniumVersion = "${seleniumVersion}"

    compile project(":mail-stub")
    compile project(":webcert-web")

    compile "se.riv.clinicalprocess.healthcond.certificate:clinicalprocess-healthcond-certificate-schemas:${healthcondSchemasVersion}"
    compile "se.riv.insuranceprocess.healthreporting:insuranceprocess-healthreporting-schemas:${healthreportingSchemasVersion}"
    compile "se.riv.itintegration.monitoring:itintegration-monitoring-schemas:${rivtaItintegrationSchemasVersion}"
    compile "se.inera.intyg.infrastructure.directory.privatepractitioner.terms:intyg-infrastructure-directory-privatepractitioner-terms-schemas:${ppTermsSchemasVersion}"

    compile "se.inera.intyg.common:log-messages:${commonVersion}"
    compile "se.inera.intyg.common:hsa-integration:${commonVersion}"
    compile "se.inera.intyg.common:common-specifications:${commonVersion}"

    compile "com.jayway.awaitility:awaitility:${awaitilityVersion}"

    fitnesse "com.jayway.awaitility:awaitility:${awaitilityVersion}"
    fitnesse "se.inera.intyg.common:common-specifications:${commonVersion}"
    fitnesse "org.seleniumhq.selenium:selenium-support:${seleniumVersion}"
    fitnesse "org.seleniumhq.selenium:selenium-firefox-driver:${seleniumVersion}"
    fitnesse "org.seleniumhq.selenium:selenium-chrome-driver:${seleniumVersion}"
    fitnesse "org.seleniumhq.selenium:selenium-safari-driver:${seleniumVersion}"
    fitnesse "org.seleniumhq.selenium:selenium-remote-driver:${seleniumVersion}"
    fitnesse "org.seleniumhq.selenium:selenium-htmlunit-driver:${seleniumVersion}"
}
