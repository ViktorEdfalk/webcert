!contents -R2 -g -p -f -h

!3 Börja med att rensa eventuella gamla notifieringar
| webcert rest utils | 
| reset? |
| true |

!2 Testa flödet Skapa ukast -> notifiering HAN1, Ändra och spara -> notifiering HAN11



!3 Skapa utkast och ändra i diagnos-relaterade fält, vilket ska ge notifiering HAN11

!4 Logga in och skapa ett nytt intygsutkast
| skapa utkast med fake inloggning |
| patientPersonnummer | patientFornamn | patientEfternamn | utkastCreated? | utkastId? |
| 19121212-1212       | Test           | Testorsson       |           true | $utkastId=|

!4 Populera och spara utkastet
| spara utkast |
| patientPersonnummer | patientFornamn | patientEfternamn | hsaId | namn | enhetId             | kodverk   | intygId    | intygTyp | diagnosKod| diagnosBeskrivning1 | utkastSparat? | 
| 19121212-1212 | Test | Testorsson | SE4815162344-1B01 | Ivar Integration | SE4815162344-1A02 | ICD_10_SE | $utkastId   | fk7263  | S50       | Kontusion på armbåge | true        | 

!4 Verifiera att notifieringar mottogs av notifierings-stubben
| skickade notifieringar | 
| id         | kod  | antal |checkHandelseKod? |
| $utkastId  | HAN1 |   2   |true              |
| $utkastId  | HAN11|   2   |true              |



!3 Skapa utkast och spara utan att ändra diagnos-info, vilket inte ska ge notifiering HAN11

!4 Logga in och skapa ett nytt intygsutkast
| skapa utkast med fake inloggning |
| patientPersonnummer | patientFornamn | patientEfternamn | utkastCreated? | utkastId? |
| 19121212-1212       | Test           | Testorsson       |           true | $utkastId=|

!4 Populera och spara utkastet
| spara utkast |
| patientPersonnummer | patientFornamn | patientEfternamn | hsaId | namn | enhetId             | kodverk   | intygId    | intygTyp | utkastSparat? | 
| 19121212-1212 | Test | Testorsson | SE4815162344-1B01 | Ivar Integration | SE4815162344-1A02 | ICD_10_SE | $utkastId   | fk7263  |   true        | 

!4 Verifiera att notifieringar mottogs av notifierings-stubben
| skickade notifieringar | 
| id         | kod  | antal | checkHandelseKod? |
| $utkastId  | HAN1 | 2     | true              |
| $utkastId  | HAN11| 2     | false             |




!3 Skapa utkast och ändra i sjukskrivningsperiod, vilket ska ge notifiering HAN11

!4 Logga in och skapa ett nytt intygsutkast
| skapa utkast med fake inloggning |
| patientPersonnummer | patientFornamn | patientEfternamn | utkastCreated? | utkastId? |
| 19121212-1212       | Test           | Testorsson       |           true | $utkastId=|

!4 Populera och spara utkastet
| spara utkast |
| patientPersonnummer | patientFornamn | patientEfternamn | hsaId | namn | enhetId             | kodverk   | intygId    | intygTyp | nedsattMed100 | utkastSparat?  | 
| 19121212-1212 | Test | Testorsson | SE4815162344-1B01 | Ivar Integration | SE4815162344-1A02 | ICD_10_SE | $utkastId  | fk7263   | "nedsattMed100":{"from":"2014-04-15","tom":"2014-05-15"} |true | 

!4 Verifiera att notifieringar mottogs av notifierings-stubben
| skickade notifieringar | 
| id         | kod  | antal | checkHandelseKod? |
| $utkastId  | HAN1 | 2     | true              |
| $utkastId  | HAN11| 2     | true              |








!3 Rensa notifieringar
| webcert rest utils | 
| reset? |
| true |



